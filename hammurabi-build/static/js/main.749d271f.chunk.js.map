{"version":3,"sources":["redux/store.js","redux/actions.js","api.js","Themes/index.js","Themes/FileInput.js","Songs/index.js","render/Videos.js","Dashboard/index.js","Login.js","Register.js","Logout.js","render/sanitize.js","render/PickComments/Comment.js","render/estimate.js","render/PickComments/FakeComment.js","render/PickComments/SortableComments.js","render/PickComments/index.js","render/Question.js","render/SelectThread.js","render/Settings.js","render/App.js","Themes/_id.js","Router.js","render/serviceWorker.js","index.js"],"names":["defaultState","comments","question","processed","stage","options","song","theme","themes","videos","songs","loggedIn","localStorage","getItem","createStore","state","action","type","Object","assign","val","title","setItem","removeItem","process","nextStage","setComments","content","setThemes","jsonFetch","RequestInfo","RequestInit","method","headers","Content-Type","credentials","fetch","then","res","ok","json","status","store","dispatch","err","error","getSongs","setSongsAction","uploadSong","formData","body","r","deleteSong","id","getThread","thread","getThemes","setThemesAction","getTheme","themeId","createTheme","data","JSON","stringify","editTheme","uploadThemeFiles","deleteTheme","postRender","questionData","commentData","Accept","getVideos","setVideosAction","authorize","email","password","Headers","authorization","user","pass","btoa","register","connect","React","Component","[object Object]","args","super","this","async","name","navigate","handleChange","e","value","setState","componentDidMount","render","react_default","a","createElement","Container","props","map","router_es","key","_id","to","Card","fluid","Content","Divider","Popup","trigger","Button","on","position","textAlign","Form","onSubmit","Header","Input","onChange","placeholder","FileInput","handleFileChange","target","files","buttonOnly","attached","icon","label","style","accept","ref","fileInput","opacity","cursor","top","right","left","bottom","width","height","Icon","size","Fragment","file","readOnly","onClick","click","FormData","append","i","basic","circular","floated","color","Themes_FileInput","video","_video$created$split","created","split","_video$created$split2","slicedToArray","date","time","href","rel","Meta","as","Grid","Column","horizontal","Segment","Videos","Themes","Songs","App","constructor","loading","login","bind","catch","console","d","redirectTo","verticalAlign","maxWidth","disabled","Message","Comment_Comment","Logout","replace","foulSpanArray","findWithRegex","regex","contentBlock","callback","text","getText","matchArr","start","exec","index","length","decorators","strategy","forEach","reg","RegExp","component","className","children","Comment","p","inlineToolbarPlugin","createInlineToolbarPlugin","linkPlugin","createLinkPlugin","plugins","convertFromHTML","comment","body_html","editor","EditorState","createWithContent","ContentState","createFromBlockArray","contentBlocks","entityMap","handlePress","stopPropagation","propagateHtmlChange","html","stateToHTML","getCurrentContent","propagateEnableChange","enabled","_this$props","checked","onKeyDown","marginRight","author","score","Math","round","all_awardings","award","src","icon_url","alt","count","lib_default","editorState","InlineToolbar","extProps","draft_js_buttons_lib","LinkButton","Array","isArray","replies","PickComments_Comment_Comment","outroLen","transitionLen","FakeComment","dangerouslySetInnerHTML","__html","filter","rep","FakeComment_FakeComment","toClass","classes","keys","join","SortableComments","onDragEnd","result","destination","reorder","source","react_beautiful_dnd_esm","droppableId","provided","droppableProps","innerRef","items","item","draggableId","draggableProps","dragHandleProps","draggable","current","setCurrent","setProcessed","tooTall","handle","toggleCurrent","handleKeyEvent","fakecomments","createRef","code","goPrev","goNext","indexOf","num","parseInt","window","addEventListener","componentWillUnmount","removeEventListener","filt","recFilter","commentArr","h","newS","chosen","has","set","add","commentNum","from","currentNum","reqComment","traverseOnce","toMinSec","seconds","fullMins","floor","restSecs","slice","calculateTotalTime","recAdd","fullHtml","reduce","b","commentTimes","noTags","trim","splits","str","words","estimate","estimateComment","estimateCommentHtml","getFull","onCurrentCommentChange","s","componentDidUpdate","clientHeight","newstate","onReorder","end","list","startIndex","endIndex","_result$splice","splice","removed","selectedComments","display","flexDirection","justifyContent","marginTop","PickComments_SortableComments","PickComments_Comment","max","min","render_PickComments_FakeComment","setTitle","preventDefault","defaultValue","fontFamily","setQuestion","input","fetchThread","mapping","newcomment","log","message","pattern","match","onlythread","autoFocus","setOptions","changeSong","newOptions","changeTheme","themeOptions","songOptions","Select","clearable","prevStage","SelectThread","Question","src_render_PickComments","render_Settings","fontSize","voices","delete","submit","voice","_this$state","intro","transition","outro","Group","inline","NotFound","redirect","noThrow","Dashboard","path","src_render_App","default","Register","Login","Boolean","location","hostname","ReactDOM","es","Router","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.749d271f.chunk.js","sourcesContent":["import { createStore } from 'redux'\n\nconst defaultState = {\n\tcomments: [],\n\tquestion: null,\n\tprocessed: null,\n\tstage: 0,\n\toptions: {\n\t\tsong: null,\n\t\ttheme: null,\n\t},\n\tthemes: [],\n\tvideos: [],\n\tsongs: [],\n\tloggedIn: localStorage.getItem('loggedIn') === 'true',\n}\n\nfunction state(state = defaultState, action) {\n\tswitch (action.type) {\n\t\tcase 'SET_STAGE':\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tstage: action.val,\n\t\t\t})\n\t\tcase 'INC_STAGE':\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tstage: state.stage + action.val,\n\t\t\t})\n\t\tcase 'SET_COMMENTS':\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tcomments: action.val,\n\t\t\t})\n\t\tcase 'SET_PROCESSED':\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tprocessed: action.val,\n\t\t\t})\n\t\tcase 'SET_QUESTION':\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tquestion: action.val,\n\t\t\t})\n\t\tcase 'SET_TITLE':\n\t\t\tlet question = Object.assign({}, state.question, { title: action.val })\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tquestion: question,\n\t\t\t})\n\t\tcase 'SET_OPTIONS':\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\toptions: action.val,\n\t\t\t})\n\t\tcase 'SET_THEMES':\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tthemes: action.val,\n\t\t\t})\n\t\tcase 'SET_SONGS':\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tsongs: action.val,\n\t\t\t})\n\t\tcase 'SET_VIDEOS':\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tvideos: action.val,\n\t\t\t})\n\t\tcase 'LOGIN':\n\t\t\tlocalStorage.setItem('loggedIn', 'true')\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tloggedIn: true,\n\t\t\t})\n\t\tcase 'LOGOUT':\n\t\t\tlocalStorage.removeItem('loggedIn')\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tloggedIn: false,\n\t\t\t})\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nexport default createStore(state, process.env.NODE_ENV === \"development\" && window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__())","export const setProcessed = content => ({\n\ttype: 'SET_PROCESSED',\n\tval: content,\n})\nexport const setQuestion = content => ({\n\ttype: 'SET_QUESTION',\n\tval: content,\n})\nexport const setStage = content => ({\n\ttype: 'SET_STAGE',\n\tval: content,\n})\nexport const nextStage = () => ({\n\ttype: 'INC_STAGE',\n\tval: 1,\n})\nexport const prevStage = () => ({\n\ttype: 'INC_STAGE',\n\tval: -1,\n})\nexport const setComments = content => ({\n\ttype: 'SET_COMMENTS',\n\tval: content,\n})\nexport const setOptions = content => ({\n\ttype: 'SET_OPTIONS',\n\tval: content,\n})\nexport const setThemes = content => ({\n\ttype: 'SET_THEMES',\n\tval: content,\n})\nexport const setSongs = content => ({\n\ttype: 'SET_SONGS',\n\tval: content,\n})\nexport const setVideos = content => ({\n\ttype: 'SET_VIDEOS',\n\tval: content,\n})\nexport const setTitle = content => ({\n\ttype: 'SET_TITLE',\n\tval: content,\n})\nexport const login = () => ({\n\ttype: 'LOGIN',\n})\nexport const logout = () => ({\n\ttype: 'LOGOUT',\n})","import store from './redux/store'\nimport {\n\tlogout as logoutAction,\n\tlogin as loginAction,\n\tsetThemes as setThemesAction,\n\tsetSongs as setSongsAction,\n\tsetVideos as setVideosAction,\n} from './redux/actions'\n\nlet apiurl = process.env.NODE_ENV === \"development\" ?\n\t'http://192.168.1.19:8000/api' :\n\t'/api'\n\n// The jsonFetch function is a wrapper around the native fetch().\n// It returns the response in json, and removes the \"loggedIn\" item\n// from localStorage if the response status code is 401.\n// Returns a promise that throws if the status code is not in the 200-399 range\nconst jsonFetch = (RequestInfo, RequestInit = {}) => {\n\tif (typeof RequestInfo === 'string') {\n\t\tRequestInfo = apiurl + RequestInfo\n\t}\n\tif (RequestInit.method && RequestInit.method !== \"GET\") {\n\t\tif (!RequestInit.headers) {\n\t\t\tRequestInit.headers = {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t}\n\t\t}\n\t}\n\n\tRequestInit.credentials = 'include'\n\n\treturn fetch(RequestInfo, RequestInit)\n\t\t.then(res => {\n\t\t\tif (res.ok) {\n\t\t\t\treturn res.json()\n\t\t\t} else if (res.status === 401) {\n\t\t\t\tstore.dispatch(logoutAction())\n\t\t\t}\n\t\t\treturn res.json()\n\t\t\t\t.then(err => {\n\t\t\t\t\tthrow err.error // Parse as json, then throw.\n\t\t\t\t})\n\t\t})\n}\n\nexport let getSongs = function () {\n\treturn jsonFetch('/songs')\n\t\t.then(songs => {\n\t\t\tstore.dispatch(setSongsAction(songs))\n\t\t\treturn songs\n\t\t})\n}\n\nexport let uploadSong = function (formData) {\n\treturn jsonFetch('/songs', {\n\t\tmethod: 'POST',\n\t\tbody: formData,\n\t\theaders: {\n\t\t}\n\t})\n\t\t.then(r => {\n\t\t\tgetSongs()\n\t\t\treturn r\n\t\t})\n}\n\nexport let deleteSong = function (id) {\n\treturn jsonFetch('/songs/' + id, {\n\t\tmethod: 'DELETE',\n\t})\n}\n\nexport let getThread = function (thread) {\n\treturn jsonFetch('/thread/' + thread)\n}\n\nexport let getThemes = function () {\n\treturn jsonFetch('/themes')\n\t\t.then(themes => {\n\t\t\tstore.dispatch(setThemesAction(themes))\n\t\t\treturn themes\n\t\t})\n}\n\nexport let getTheme = function (themeId) {\n\treturn jsonFetch('/themes/' + themeId)\n}\n\nexport let createTheme = function (data) {\n\treturn jsonFetch('/themes', {\n\t\tmethod: 'POST',\n\t\tbody: JSON.stringify(data),\n\t})\n}\n\nexport let editTheme = function (id, data) {\n\treturn jsonFetch('/themes/' + id, {\n\t\tmethod: 'PUT',\n\t\tbody: JSON.stringify(data),\n\t})\n}\n\nexport let uploadThemeFiles = function (id, formData) {\n\treturn jsonFetch('/themes/' + id + '/files', {\n\t\tmethod: 'POST',\n\t\tbody: formData,\n\t\theaders: {\n\t\t}\n\t})\n}\n\nexport let deleteTheme = function (id) {\n\treturn jsonFetch('/themes/' + id, {\n\t\tmethod: 'DELETE',\n\t})\n}\n\nexport let postRender = function (questionData, commentData, options) {\n\treturn jsonFetch('/videos', {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'Accept': 'application/json',\n\t\t\t'Content-Type': 'application/json'\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\tquestionData,\n\t\t\tcommentData,\n\t\t\toptions,\n\t\t})\n\t})\n}\n\nexport const getVideos = function () {\n\treturn jsonFetch('/videos')\n\t\t.then(r => {\n\t\t\tstore.dispatch(setVideosAction(r))\n\t\t\treturn r\n\t\t})\n}\n\nexport const openVideoLink = function (videoId) {\n\treturn window.open('/videos/' + videoId, '_blank')\n}\n\n// btoa: Binary to Ascii (Base64 only contains ascii characters)\n\n// Basic toBase64(username:password)\nconst toBasicAuth = (user, pass) => `Basic ${btoa(user + ':' + pass)}`\n\nexport let authorize = function (email, password) {\n\treturn jsonFetch('/auth', {\n\t\theaders: new Headers({\n\t\t\tauthorization: toBasicAuth(email, password),\n\t\t}),\n\t\tmethod: 'POST',\n\t}).then(r => {\n\t\tstore.dispatch(loginAction())\n\t\treturn r\n\t})\n}\n\nexport let register = function (email, password) {\n\treturn jsonFetch('/register', {\n\t\tbody: JSON.stringify({ email, password }),\n\t\tmethod: 'POST',\n\t})\n}\n\nexport let logout = function () {\n\treturn jsonFetch('/logout').then(r => {\n\t\tstore.dispatch(logoutAction())\n\t})\n}","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Button, Card, Form, Grid, Header, Popup, Container, Divider } from 'semantic-ui-react'\nimport { setThemes } from '../redux/actions'\nimport { createTheme, getThemes } from '../api'\nimport { navigate, Link } from '@reach/router'\n\nclass ThemesList extends React.Component {\n    createTheme = async () => {\n        const { theme } = await createTheme({ name: this.state.name })\n        navigate(`/themes/${theme}`)\n    }\n    handleChange = (e, { name, value }) => this.setState({ [name]: value })\n    componentDidMount() {\n        getThemes()\n    }\n    render() {\n        return (\n            <Container>\n                <div>\n                    {this.props.themes.map(theme =>\n                        <Link key={theme._id} to={\"/themes/\" + theme._id}>\n                            <Card fluid>\n                                <Card.Content>{theme.name}</Card.Content>\n                            </Card>\n                        </Link>\n                    )}\n                </div>\n                <Divider></Divider>\n                <Popup trigger={<Button>New theme</Button>} on=\"click\" position=\"bottom center\">\n                    <Container fluid textAlign=\"center\">\n                        <Form onSubmit={this.createTheme}>\n                            <Header>Create new theme</Header>\n                            <Form.Input name=\"name\" onChange={this.handleChange} placeholder=\"Name\"></Form.Input>\n                            <Form.Button type=\"submit\">Create</Form.Button>\n                        </Form>\n                    </Container>\n                </Popup>\n            </Container>\n        )\n    }\n}\n\nlet mapStateToProps = store => {\n    return {\n        themes: store.themes,\n    }\n}\n\nexport default connect(mapStateToProps, {\n    setThemes,\n})(ThemesList);","import React from 'react'\nimport { Icon, Input, Button } from 'semantic-ui-react'\n\nclass FileInput extends React.Component {\n    handleFileChange = (e, { name }) => this.setState({ [name]: e.target.files[0] })\n    render() {\n        let buttonOnly = this.props.buttonOnly\n        return (\n            <div>\n                <Button\n                    attached={buttonOnly ? null : \"left\"}\n                    icon={!this.props.label}\n                    style={{ position: 'relative' }}>\n                    <input\n                        name={this.props.name}\n                        type=\"file\"\n                        accept={this.props.accept || null}\n                        ref={r => this.fileInput = r}\n                        style={{ opacity: 0, cursor: 'pointer', position: 'absolute', top: 0, right: 0, left: 0, bottom: 0, width: '100%', height: '100%' }}\n                        onChange={this.props.onChange} />\n                    <Icon name=\"file\" size=\"large\" />\n                    {this.props.label && <>{this.props.label}</>}\n                </Button>\n                {!buttonOnly && <Input\n                    placeholder=\"No file\"\n                    value={this.props.file ? this.props.file.name : ''}\n                    readOnly={true}\n                    onClick={() => this.fileInput.click()} />}\n            </div>\n        )\n    }\n}\n\nexport default FileInput;","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Button, Card, Container, Divider } from 'semantic-ui-react'\nimport { getSongs, uploadSong, deleteSong } from '../api'\nimport FileInput from '../Themes/FileInput'\n\nclass ThemesList extends React.Component {\n    uploadSong = async (e) => {\n        let file = e.target.files[0]\n        let formData = new FormData()\n        formData.append('song', file)\n        await uploadSong(formData)\n    }\n    deleteSong = async song => {\n        await deleteSong(song._id)\n        getSongs()\n    }\n    handleChange = (e, { name, value }) => this.setState({ [name]: value })\n    handleFileChange = (e, { name }) => this.setState({ [name]: e.target.files[0] })\n    componentDidMount() {\n        getSongs()\n    }\n    render() {\n        return (\n            <Container>\n                <div>\n                    {this.props.songs.map((song, i) =>\n                        <Container fluid key={song._id}>\n                            <Card fluid>\n                                <Card.Content>\n                                    {song.name}\n                                    <Button\n                                        basic\n                                        circular\n                                        floated=\"right\"\n                                        onClick={() => this.deleteSong(song)}\n                                        color=\"red\"\n                                        icon=\"delete\" />\n                                </Card.Content>\n                            </Card>\n                        </Container>\n                    )}\n                </div>\n                <Divider></Divider>\n\n                <FileInput accept=\"audio/*\" buttonOnly name=\"song\" label=\"Upload song\" onChange={this.uploadSong} />\n                {/* <Popup trigger={<Button>Upload song</Button>}\n                    on=\"click\"\n                    position=\"bottom center\">\n                    <Container fluid textAlign=\"center\">\n                        <Form onSubmit={this.uploadSong}>\n                            <Header>Upload song</Header>\n                            <Form.Input name=\"name\" onChange={this.handleChange} placeholder=\"Name\" />\n                            <Form.Button type=\"submit\">Upload</Form.Button>\n                            <Message size=\"tiny\" color=\"yellow\">\n                                Songs that are too short will be repeated\n                            </Message>\n                        </Form>\n                    </Container>\n                </Popup> */}\n            </Container>\n        )\n    }\n}\n\nlet mapStateToProps = store => {\n    return {\n        songs: store.songs,\n    }\n}\n\nexport default connect(mapStateToProps)(ThemesList);","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Card, Container } from 'semantic-ui-react'\nimport { getVideos } from '../api'\n\nclass ThemesList extends React.Component {\n    componentDidMount() {\n        getVideos()\n    }\n    render() {\n        return (\n            <Container>\n                {this.props.videos && this.props.videos.map(video => {\n                    let [date, time] = video.created.split('T')\n                    time = time.split('.')[0]\n                    return (\n                        <a href={\"/videos/\" + video._id} target=\"_blank\" rel=\"noopener noreferrer\">\n                            <Card fluid>\n                                <Card.Content>{date} {time}</Card.Content>\n                                <Card.Meta>{video._id}</Card.Meta>\n                            </Card>\n                        </a>\n                    )\n                })}\n            </Container>\n        )\n    }\n}\n\nlet mapStateToProps = store => {\n    return {\n        videos: store.videos,\n    }\n}\n\nexport default connect(mapStateToProps)(ThemesList);","import { Link } from '@reach/router'\nimport React from 'react'\nimport { connect } from 'react-redux'\nimport { Button, Container, Header, Segment, Grid, Divider } from 'semantic-ui-react'\nimport Themes from '../Themes/index'\nimport Songs from '../Songs'\nimport Videos from '../render/Videos'\n\nclass App extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<Container textAlign=\"center\">\n\t\t\t\t<Header as=\"h1\">Dashboard</Header>\n\t\t\t\t<Grid>\n\t\t\t\t\t<Grid.Column width={5}>\n\t\t\t\t\t\t<Divider horizontal>Videos</Divider>\n\t\t\t\t\t\t<Segment>\n\t\t\t\t\t\t\t<Videos />\n\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t<Link to=\"/video\">\n\t\t\t\t\t\t\t\t<Button size=\"big\">Make video</Button>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Segment>\n\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t<Grid.Column floated=\"right\" width={8}>\n\t\t\t\t\t\t<Divider horizontal>Themes</Divider>\n\t\t\t\t\t\t<Segment>\n\t\t\t\t\t\t\t<Themes />\n\t\t\t\t\t\t</Segment>\n\t\t\t\t\t\t<Divider horizontal>Songs</Divider>\n\t\t\t\t\t\t<Segment>\n\t\t\t\t\t\t\t<Songs />\n\t\t\t\t\t\t</Segment>\n\t\t\t\t\t</Grid.Column>\n\t\t\t\t</Grid>\n\t\t\t</Container>\n\t\t)\n\t}\n}\n\nlet mapStateToProps = store => {\n\treturn {\n\t}\n}\n\nexport default connect(mapStateToProps, {})(App);","import React from 'react';\nimport { Grid, Header, Segment, Form, Message } from 'semantic-ui-react'\nimport { authorize } from './api'\nimport { Link, redirectTo } from '@reach/router'\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            email: \"\",\n            password: \"\",\n            error: null,\n            loading: false,\n        }\n\n        this.login = this.login.bind(this)\n    }\n    login() {\n        this.setState({ error: null, loading: true })\n        authorize(this.state.email, this.state.password)\n            .catch(err => {\n                this.setState({ loading: false })\n                if (typeof err === \"string\") {\n                    this.setState({ error: err })\n                } else {\n                    console.error(err)\n                }\n            })\n            .then(d => {\n                redirectTo('/dashboard')\n            })\n    }\n    render() {\n        return (\n            <Grid textAlign='center' style={{ height: '100vh' }} verticalAlign='middle'>\n                <Grid.Column style={{ maxWidth: 450 }}>\n                    <Header as=\"h2\">Log in</Header>\n                    <Form onSubmit={this.login}>\n                        <Segment>\n                            <Form.Input\n                                fluid\n                                placeholder=\"Email\"\n                                disabled={this.state.loading}\n                                type=\"email\"\n                                value={this.state.email}\n                                onChange={d => this.setState({ email: d.target.value })}>\n                            </Form.Input>\n                            <Form.Input\n                                fluid\n                                placeholder=\"Password\"\n                                disabled={this.state.loading}\n                                type=\"password\"\n                                value={this.state.password}\n                                onChange={d => this.setState({ password: d.target.value })}>\n                            </Form.Input>\n                            <Form.Button\n                                fluid\n                                type=\"submit\"\n                                size=\"large\"\n                                disabled={this.state.loading}\n                                color=\"teal\">\n                                Log in\n                            </Form.Button>\n                            <div><Link to=\"/register\">Register</Link></div>\n                        </Segment>\n                    </Form>\n                    <Message size=\"small\">Forgot password?</Message>\n                    {this.state.error && <Message error>{this.state.error}</Message>}\n                </Grid.Column>\n            </Grid>\n        )\n    }\n}\n\nexport default App;","import React from 'react';\nimport { Grid, Header, Segment, Form, Message,Comment } from 'semantic-ui-react'\nimport { register } from './api'\nimport { Link } from '@reach/router'\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            email: \"\",\n            password: \"\",\n        }\n\n        this.register = this.register.bind(this)\n    }\n    register() {\n        register(this.state.email, this.state.password)\n    }\n    render() {\n        return (\n            <Grid textAlign='center' style={{ height: '100vh' }} verticalAlign='middle'>\n                <Grid.Column style={{ maxWidth: 450 }}>\n                    <Header as=\"h2\">Register</Header>\n                    <Form onSubmit={this.register}>\n                        <Segment>\n                            <Form.Input\n                                fluid\n                                placeholder=\"Email\"\n                                type=\"email\"\n                                value={this.state.email}\n                                onChange={d => this.setState({ email: d.target.value })}>\n                            </Form.Input>\n                            <Form.Input\n                                fluid\n                                placeholder=\"Password\"\n                                type=\"password\"\n                                value={this.state.password}\n                                onChange={d => this.setState({ password: d.target.value })}>\n                            </Form.Input>\n                            <Form.Button\n                                fluid\n                                type=\"submit\"\n                                size=\"large\"\n                                color=\"teal\">\n                                Register\n                            </Form.Button>\n                            <Comment><Link to=\"/login\">Log in</Link></Comment>\n                        </Segment>\n                    </Form>\n                </Grid.Column>\n            </Grid>\n        )\n    }\n}\n\nexport default App;","import React from 'react'\nimport { logout } from './api'\nimport { navigate } from '@reach/router'\n\nexport default function () {\n    logout()\n        .then(r => {\n            navigate('/', { replace: true })\n        })\n\n    return <div>Logging out...</div>\n}","// What the html will display instead\nexport const foulSpanArray = [\n\t/(f)(uck)()/,\n\t/(sh)(it)()/,\n\t/(b)(it)(ch)/,\n\t/(c)(un)(t)/,\n\t/(ni)(gg)(a)/,\n\t/(ni)(gge)(r)/,\n\t/(p)(o)(rn)/,\n\t/((?:\\W|^)d)(ic)(k)/,\n\t/((?:\\W|^)a)(ss)(es)(?!\\w)/,\n\t/((?:\\W|^)a)(ss)(\\W|$)/,\n\t/((?:\\W|^)r)(ap)(e|ist|ing)/,\n\t/((?:\\W|^)c)(u)(m)/,\n\t/((?:\\W|^)t)(i)(ts)/,\n\t/(t)(it)(ties)/,\n\t/(c)(o)(ck[^an])/, // doesnt match 'cockney', 'cockatrice'\n\t/(wh)(or)(e)/,\n\t/(p)(us)(sy)/,\n\t/(s)(e)(x)/,\n\t/(d)(ic)(k)/,\n\t/(ret)(ar)(d)/,\n\t/(a)(ss)(hat|face|head|burger|hole)/,\n\t/((?:\\W|^)a)(n)(al[^oy])/,\n\t/(pe)(n)(is)/,\n\t/(va)(gi)(na)/,\n\t/(dr)(u)(gs)/,\n\t/(mast)(urb)(at)/,\n\t/(dr)(u)(gs)/,\n]","import React from 'react'\nimport { EditorState, ContentState, convertFromHTML } from 'draft-js'\nimport Editor from 'draft-js-plugins-editor'\nimport { stateToHTML } from 'draft-js-export-html'\nimport { foulSpanArray } from '../sanitize'\nimport createLinkPlugin from 'draft-js-anchor-plugin'\nimport createInlineToolbarPlugin from 'draft-js-inline-toolbar-plugin'\nimport { ItalicButton, BoldButton, UnderlineButton } from 'draft-js-buttons'\n\nfunction handleStrategy(contentBlock, callback) {\n\tfoulSpanArray.forEach(reg => {\n\t\tfindWithRegex(new RegExp(reg, 'ig'), contentBlock, callback)\n\t})\n}\n\nfunction editStrategy(contentBlock, callback) {\n\tfindWithRegex(/(?:^|\\W)edit/img, contentBlock, callback)\n}\n\nlet handleSpan = props => {\n\treturn <span className=\"highlight-danger\">{props.children}</span>\n}\n\nlet editSpan = props => {\n\treturn <span className=\"highlight-warn\">{props.children}</span>\n}\n\nfunction findWithRegex(regex, contentBlock, callback) {\n\tconst text = contentBlock.getText()\n\tlet matchArr, start\n\twhile ((matchArr = regex.exec(text)) !== null) {\n\t\tstart = matchArr.index\n\t\tcallback(start, start + matchArr[0].length)\n\t}\n}\n\nlet decorators = [\n\t{\n\t\tstrategy: handleStrategy,\n\t\tcomponent: handleSpan,\n\t},\n\t{\n\t\tstrategy: editStrategy,\n\t\tcomponent: editSpan,\n\t},\n]\n\nclass Comment extends React.Component {\n\tconstructor(p) {\n\t\tsuper(p)\n\n\t\tthis.inlineToolbarPlugin = createInlineToolbarPlugin()\n\t\tthis.linkPlugin = createLinkPlugin()\n\t\tthis.plugins = [\n\t\t\tthis.inlineToolbarPlugin,\n\t\t\tthis.linkPlugin,\n\t\t]\n\n\t\tlet d = convertFromHTML(p.comment.data.body_html)\n\t\tthis.state = { editor: EditorState.createWithContent(ContentState.createFromBlockArray(d.contentBlocks, d.entityMap)) }\n\t}\n\thandlePress(e) {\n\t\te.stopPropagation()\n\t}\n\tpropagateHtmlChange(val) {\n\t\tthis.setState({ editor: val })\n\n\t\tlet html = stateToHTML(this.state.editor.getCurrentContent())\n\t\tthis.props.comment.data.body_html = html\n\n\t\tthis.props.onChange()\n\t}\n\tpropagateEnableChange() {\n\t\tthis.props.comment.enabled = !this.props.comment.enabled\n\t\tthis.props.onChange()\n\t}\n\trender() {\n\t\tlet { comment, onChange } = this.props\n\n\t\treturn (\n\t\t\t<div className=\"Comment\">\n\t\t\t\t<input className=\"left-box\" type=\"checkbox\" checked={comment.enabled} onChange={this.propagateEnableChange.bind(this)} />\n\t\t\t\t<div onKeyDown={this.handlePress}>\n\t\t\t\t\t<div onClick={this.propagateEnableChange.bind(this)}>\n\t\t\t\t\t\t<span style={{ color: \"blue\", marginRight: 5 }}>{comment.data.author}</span>\n\t\t\t\t\t\t<span>{comment.data.score > 1e3 ? Math.round(comment.data.score / 1e2) / 1e1 + 'k' : comment.data.score} points</span>\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t{comment.data.all_awardings.map(award => <><img src={award.icon_url} alt=\"award\" width={16} />{award.count > 1 && award.count}</>)}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Editor\n\t\t\t\t\t\teditorState={this.state.editor}\n\t\t\t\t\t\tonChange={this.propagateHtmlChange.bind(this)}\n\t\t\t\t\t\tdecorators={decorators}\n\t\t\t\t\t\tplugins={this.plugins}\n\t\t\t\t\t/>\n\t\t\t\t\t<this.inlineToolbarPlugin.InlineToolbar>\n\t\t\t\t\t\t{extProps => <>\n\t\t\t\t\t\t\t<BoldButton {...extProps} />\n\t\t\t\t\t\t\t<ItalicButton {...extProps} />\n\t\t\t\t\t\t\t<UnderlineButton {...extProps} />\n\t\t\t\t\t\t\t<this.linkPlugin.LinkButton {...extProps} />\n\t\t\t\t\t\t</>}\n\t\t\t\t\t</this.inlineToolbarPlugin.InlineToolbar>\n\t\t\t\t\t{Array.isArray(comment.data.replies) && comment.data.replies.map(d => <Comment key={d.data.id} comment={d} onChange={onChange} />)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default Comment;","// ffprobe -v error -show_entries format=duration -of default=noprint_wrappers=1:nokey=1 transition.mkv\n\n// Outro 13.163 s\n// Transition bright 0.843 s\n// Transition 0.741 s\n// Number of splits * X\n// Number of words * Y\n\nlet outroLen = 13.163\nlet transitionLen = 0.741\n\nfunction splitString(str) {\n\treturn str\n\t\t.split(/<br>|(.+?[\\.,?!]+[\"'\\)\\s]+)/g) // eslint-disable-line no-useless-escape\n\t\t.filter(d => d.replace('\\u200B', ' ').trim().length > 0)\n}\n\nexport function getFull(commentTimes) {\n\tlet comments = commentTimes.reduce((a, b) => a + b, 0)\n\treturn comments + outroLen + transitionLen * commentTimes.length\n}\n\nexport function estimateComment(splits, words) {\n\treturn splits * 0.38152203637725923 + words * 0.2767486833003453\n}\n\nexport function estimateCommentHtml(comment) {\n\tlet noTags = comment.replace(/<.+?>/g, '').trim()\n\tlet splits = splitString(noTags).length\n\tlet words = noTags.replace(/<.+?>/g, '').split(/\\s+/g).length\n\tlet estimate = estimateComment(splits, words)\n\n\treturn {\n\t\twords,\n\t\tsplits,\n\t\testimate,\n\t}\n}","import React from 'react'\n\nimport './FakeComment.css'\n\nclass FakeComment extends React.Component {\n\trender() {\n\t\tlet { comment } = this.props\n\t\treturn (\n\t\t\t<div className=\"FakeComment\">\n\t\t\t\t<div dangerouslySetInnerHTML={{ __html: comment.data.body_html }}>\n\t\t\t\t</div>\n\t\t\t\t{comment.data.replies &&\n\t\t\t\t\tcomment.data.replies.filter &&\n\t\t\t\t\tcomment.data.replies\n\t\t\t\t\t\t.filter(r => r.enabled)\n\t\t\t\t\t\t.map(rep => <FakeComment key={rep.data.id} comment={rep} />)}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default FakeComment;","import React from 'react'\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd'\n\nlet toClass = classes => Object.keys(classes).filter(d => classes[d]).join(' ')\n\nclass SortableComments extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.onDragEnd = this.onDragEnd.bind(this)\n\t}\n\tonDragEnd(result) {\n\t\tif (!result.destination) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.props.reorder(result.source.index, result.destination.index)\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<DragDropContext onDragEnd={this.onDragEnd}>\n\t\t\t\t<Droppable droppableId=\"droppable\">\n\t\t\t\t\t{provided => (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t{...provided.droppableProps}\n\t\t\t\t\t\t\tref={provided.innerRef}\n\t\t\t\t\t\t\tclassName=\"draggable-container\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{this.props.items.map((item, index) => (\n\t\t\t\t\t\t\t\t<Draggable key={item.data.id} draggableId={item.data.id} index={index}>\n\t\t\t\t\t\t\t\t\t{provided => (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tref={provided.innerRef}\n\t\t\t\t\t\t\t\t\t\t\t{...provided.draggableProps}\n\t\t\t\t\t\t\t\t\t\t\t{...provided.dragHandleProps}\n\t\t\t\t\t\t\t\t\t\t\tclassName={toClass({\n\t\t\t\t\t\t\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\t\t\t\t\t\t\tcurrent: this.props.current === index,\n\t\t\t\t\t\t\t\t\t\t\t\tenabled: item.enabled,\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.props.setCurrent(index)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Draggable>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t{provided.placeholder}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</Droppable>\n\t\t\t</DragDropContext>\n\t\t)\n\t}\n}\n\nexport default SortableComments","import React from 'react'\nimport Comment from './Comment'\nimport './index.css'\nimport { estimateCommentHtml, getFull } from '../estimate'\nimport FakeComment from './FakeComment';\nimport { connect } from 'react-redux'\nimport { setProcessed, setComments, nextStage } from '../../redux/actions'\nimport SortableComments from './SortableComments'\n\nfunction recFilter(commentArr) {\n\tlet news = commentArr.filter(h => h.enabled)\n\t\t.map(d => d.data)\n\t\t.map(d => {\n\t\t\tlet newS = Object.assign({}, d)\n\t\t\tif (newS.replies) {\n\t\t\t\tnewS.replies = recFilter(newS.replies)\n\t\t\t}\n\t\t\treturn newS\n\t\t})\n\treturn news\n}\n\nclass PickComments extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = { current: 0, tooTall: false, height: 0 }\n\t\tthis.onSubmit = this.onSubmit.bind(this)\n\t\tthis.handle = this.handle.bind(this)\n\t\tthis.toggleCurrent = this.toggleCurrent.bind(this)\n\t\tthis.handleKeyEvent = this.handleKeyEvent.bind(this)\n\n\t\tthis.fakecomments = React.createRef()\n\t}\n\thandleKeyEvent(e) {\n\t\tswitch (e.code) {\n\t\t\tcase \"KeyA\":\n\t\t\tcase \"ArrowLeft\":\n\t\t\t\tthis.goPrev()\n\t\t\t\tbreak;\n\t\t\tcase \"KeyD\":\n\t\t\tcase \"ArrowRight\":\n\t\t\t\tthis.goNext()\n\t\t\t\tbreak\n\t\t\tcase \"Enter\":\n\t\t\t\tthis.onSubmit()\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tif (e.code.indexOf('Digit') === 0) {\n\t\t\t\t\tlet num = parseInt(e.code.replace('Digit', ''))\n\t\t\t\t\tthis.toggleCurrent(num)\n\t\t\t\t}\n\t\t}\n\t}\n\tcomponentDidMount() {\n\t\twindow.addEventListener('keydown', this.handleKeyEvent)\n\t}\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('keydown', this.handleKeyEvent)\n\t}\n\tgoPrev() {\n\t\tif (this.state.current > 0) {\n\t\t\tthis.setState({ current: this.state.current - 1 })\n\t\t}\n\n\t}\n\tgoNext() {\n\t\tif (this.state.current < this.props.comments.length - 1) {\n\t\t\tthis.setState({ current: this.state.current + 1 })\n\t\t}\n\t}\n\tonSubmit() {\n\t\tlet filt = recFilter(this.props.comments)\n\n\t\tthis.props.setProcessed(filt)\n\t\tthis.props.nextStage()\n\t}\n\thandle(id) {\n\t\tif (this.state.chosen.has(id)) {\n\t\t\tthis.state.chosen.set(id)\n\t\t} else {\n\t\t\tthis.state.chosen.add(id)\n\t\t}\n\t\tthis.setState({\n\t\t\tchosen: this.state.chosen,\n\t\t})\n\t}\n\ttoggleCurrent(commentNum) {\n\t\tlet set = Array.from(this.props.comments)\n\n\t\tif (commentNum) {\n\t\t\tlet currentNum = 0\n\n\t\t\t// Used for checking the N:th visible comment in the tree\n\t\t\tfunction traverseOnce(comment) {\n\t\t\t\tcurrentNum++\n\t\t\t\tif (currentNum === commentNum) {\n\t\t\t\t\treturn comment\n\t\t\t\t}\n\t\t\t\tif (Array.isArray(comment.data.replies)) {\n\t\t\t\t\tfor (let i = 0; i < comment.data.replies.length; i++) {\n\t\t\t\t\t\tconst element = comment.data.replies[i];\n\t\t\t\t\t\tlet res = traverseOnce(element)\n\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\treturn res\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet reqComment = traverseOnce(set[this.state.current])\n\t\t\tif (!reqComment) {\n\t\t\t\treturn // Could not find a comment with inputted number\n\t\t\t}\n\t\t\treqComment.enabled = !reqComment.enabled\n\t\t} else {\n\t\t\tset[this.state.current].enabled = !set[this.state.current].enabled\n\t\t}\n\n\t\tthis.props.setComments(set)\n\t}\n\ttoMinSec(seconds) {\n\t\tlet fullMins = Math.floor(seconds / 60) // No. full mins\n\t\tlet restSecs = ('00' + Math.round(seconds - 60 * fullMins)).slice(-2)\n\t\tlet mins = ('00' + fullMins).slice(-2)\n\t\treturn `${mins}:${restSecs}`\n\t}\n\tcalculateTotalTime() {\n\t\tlet recAdd = comment => {\n\t\t\tlet fullHtml = comment.data.body_html\n\n\t\t\tif (Array.isArray(comment.data.replies)) {\n\t\t\t\tfullHtml += comment.data.replies\n\t\t\t\t\t.filter(r => r.enabled)\n\t\t\t\t\t.map(recAdd)\n\t\t\t\t\t.reduce((a, b) => a + b, '')\n\t\t\t}\n\n\t\t\treturn fullHtml\n\t\t}\n\t\tlet commentTimes = this.props.comments\n\t\t\t.filter(d => d.enabled)\n\t\t\t.map(recAdd)\n\t\t\t.map(b => estimateCommentHtml(b).estimate)\n\n\t\treturn Math.round(1e2 * getFull(commentTimes)) / 1e2\n\t}\n\tonCurrentCommentChange(comment) {\n\t\tlet s = Array.from(this.props.comments)\n\t\tthis.props.setComments(s)\n\t}\n\tcomponentDidUpdate() {\n\t\tlet height = this.fakecomments.current.clientHeight\n\t\tlet max = 1080 / 2.4\n\t\tlet newstate = {}\n\t\tlet s = false\n\t\tif (this.state.height !== height) {\n\t\t\tnewstate.height = height\n\t\t\ts = true\n\t\t}\n\t\tif (this.state.tooTall !== (height > max)) {\n\t\t\tnewstate.tooTall = height > max\n\t\t\ts = true\n\t\t}\n\t\tif (s) {\n\t\t\tthis.setState(newstate)\n\t\t}\n\t}\n\tonReorder(start, end) {\n\t\tconst reorder = (list, startIndex, endIndex) => {\n\t\t\tconst result = Array.from(list)\n\t\t\tconst [removed] = result.splice(startIndex, 1)\n\t\t\tresult.splice(endIndex, 0, removed)\n\n\t\t\treturn result\n\t\t}\n\n\t\tthis.props.setComments(reorder(this.props.comments, start, end))\n\n\t\tlet current = this.state.current\n\n\t\tif (current === start) {\n\t\t\tthis.setState({ current: end })\n\t\t} else if (current < start && current > end) {\n\t\t\tthis.setState({ current: current + 1 })\n\t\t} else if (current > start && current < end) {\n\t\t\tthis.setState({ current: current - 1 })\n\t\t}\n\t}\n\trender() {\n\t\tlet comment = this.props.comments[this.state.current]\n\t\tlet selectedComments = this.props.comments.filter(d => d.enabled).length\n\t\treturn (\n\t\t\t<div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'center', marginTop: 5 }}>\n\t\t\t\t<SortableComments setCurrent={i => this.setState({ current: i })} current={this.state.current} reorder={this.onReorder.bind(this)} items={this.props.comments} />\n\t\t\t\t<div className=\"Comments\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className=\"top-comment\">\n\t\t\t\t\t\t\t<Comment key={comment.data.id} comment={comment} onChange={this.onCurrentCommentChange.bind(this)} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"options\">\n\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t<input type=\"checkbox\" checked={comment.enabled} onChange={() => this.toggleCurrent.bind(this)(1)} />\n\t\t\t\t\t\t\t\tEnable\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div className={this.state.tooTall ? 'tooTall' : ''}>Height: {this.state.height} (max=450)</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"controls\">\n\t\t\t\t\t\t\t<button disabled={this.state.current <= 0} onClick={this.goPrev.bind(this)}>Prev</button>\n\t\t\t\t\t\t\t<input style={{ width: 60 }} type=\"number\" max={this.props.comments.length} min={1} value={this.state.current + 1} onChange={e => this.setState({ current: Math.max(0, parseInt(e.target.value) - 1 || 0) })} />\n\t\t\t\t\t\t\t<button disabled={this.state.current > this.props.comments.length} onClick={this.goNext.bind(this)}>Next</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"controls\">\n\t\t\t\t\t\t\t<span>Total time: {this.toMinSec(this.calculateTotalTime())}, {selectedComments} {selectedComments === 1 ? 'comment' : 'comments'} selected</span>\n\t\t\t\t\t\t\t<button onClick={this.onSubmit}>Finish</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"fake-container\" ref={this.fakecomments}>\n\t\t\t\t\t\t<FakeComment comment={comment} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default connect(state =>\n\t({\n\t\tcomments: state.comments,\n\t}),\n\t{\n\t\tsetProcessed,\n\t\tsetComments,\n\t\tnextStage\n\t}\n)(PickComments);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { setTitle, nextStage } from '../redux/actions';\n\nclass PickComments extends React.Component {\n\tonSubmit(e) {\n\t\te.preventDefault()\n\t\tthis.props.nextStage()\n\t}\n\tonChange(e) {\n\t\tthis.props.setTitle(e.target.value)\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"Question\">\n\t\t\t\t<h1>Edit question</h1>\n\t\t\t\t<form onSubmit={this.onSubmit.bind(this)}>\n\t\t\t\t\t<textarea defaultValue={this.props.title} className=\"question-title\" onChange={this.onChange.bind(this)} style={{ width: 500, fontFamily: 'Noto Sans' }} />\n\t\t\t\t\t<br />\n\t\t\t\t\t<button type=\"submit\">Submit</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default connect(state => ({\n\ttitle: state.question.title,\n}), { setTitle, nextStage })(PickComments);","import React from 'react'\nimport { getThread } from '../api'\nimport { connect } from 'react-redux'\nimport { setComments, setQuestion, nextStage } from '../redux/actions'\n\nclass Thread extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tinput: '',\n\t\t\tloading: null,\n\t\t\terror: null,\n\t\t}\n\t\tthis.fetchThread = this.fetchThread.bind(this)\n\t\tthis.onSubmit = this.onSubmit.bind(this)\n\t\tthis.handle = this.handle.bind(this)\n\t}\n\tfetchThread(thread) {\n\t\tthis.setState({ error: null, loading: true })\n\n\t\tgetThread(thread)\n\t\t\t.then(json => {\n\t\t\t\tlet mapping = comment => {\n\t\t\t\t\tlet newcomment = Object.assign({}, comment)\n\n\t\t\t\t\tif (Array.isArray(newcomment.replies)) {\n\t\t\t\t\t\tnewcomment.replies = newcomment.replies.map(mapping)\n\t\t\t\t\t}\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tenabled: false,\n\t\t\t\t\t\tdata: newcomment\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet comments = json[1].map(mapping)\n\n\t\t\t\tthis.props.setQuestion(json[0])\n\t\t\t\tthis.props.setComments(comments)\n\t\t\t\tthis.props.nextStage()\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(err)\n\t\t\t\tthis.setState({ error: err.message, loading: false })\n\t\t\t})\n\t}\n\tonSubmit(e) {\n\t\te.preventDefault()\n\n\t\tlet thread = this.state.input\n\n\t\tif (thread.indexOf('comments') !== -1) {\n\t\t\tlet pattern = /\\/comments\\/([\\w]+)/\n\t\t\tlet match = thread.match(pattern)\n\n\t\t\tif (match) {\n\t\t\t\tthread = match[1]\n\t\t\t}\n\t\t}\n\n\t\tlet onlythread = thread.replace(/[^\\w\\d]/g, '')\n\n\t\tthis.fetchThread(onlythread)\n\t}\n\thandle(e) {\n\t\tthis.setState({ input: e.target.value })\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"Thread\">\n\t\t\t\t<h1>Choose a thread</h1>\n\t\t\t\t<form onSubmit={this.onSubmit}>\n\t\t\t\t\t<input value={this.state.input} onChange={this.handle} placeholder=\"Put thread ID or url\" autoFocus />\n\t\t\t\t\t<button>OK</button>\n\t\t\t\t</form>\n\t\t\t\t<div>\n\t\t\t\t\t{this.state.loading && <p className=\"loader\">Loading...</p>}\n\t\t\t\t\t{this.state.error && <p style={{ color: 'red' }}>{this.state.error}</p>}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default connect(null, {\n\tsetComments,\n\tsetQuestion,\n\tnextStage,\n})(Thread);","import React from 'react'\nimport { connect } from 'react-redux'\nimport { getThemes, postRender, getSongs } from '../api';\nimport { setOptions, nextStage } from '../redux/actions'\nimport { Form } from 'semantic-ui-react';\n\nclass Settings extends React.Component {\n\tconstructor(p) {\n\t\tsuper(p)\n\n\t\tthis.state = {\n\t\t\tsong: null,\n\t\t\ttheme: null,\n\t\t}\n\t}\n\tcomponentDidMount() {\n\t\tgetThemes()\n\t\tgetSongs()\n\t}\n\tonSubmit = e => {\n\t\te.preventDefault()\n\n\t\tlet options = {\n\t\t\tsong: this.state.song,\n\t\t\ttheme: this.state.theme,\n\t\t}\n\n\t\tpostRender(this.props.question, this.props.processed, options)\n\n\t\tthis.props.nextStage()\n\t}\n\thandleChange = (e, { name, value }) => this.setState({ [name]: value })\n\tchangeSong = e => {\n\t\tlet newOptions = {\n\t\t\tsong: e.target.value,\n\t\t\ttheme: this.props.options.theme,\n\t\t}\n\t\tthis.props.setOptions(newOptions)\n\t}\n\tchangeTheme = e => {\n\t\tlet newOptions = {\n\t\t\tsong: null,\n\t\t\ttheme: e.target.value,\n\t\t}\n\t\tthis.props.setOptions(newOptions)\n\t}\n\trender() {\n\t\tlet themeOptions = this.props.themes.map(theme => ({ value: theme._id, key: theme._id, text: theme.name }))\n\t\tlet songOptions = this.props.songs.map(song => ({ value: song._id, key: song._id, text: song.name }))\n\n\t\treturn (\n\t\t\t<Form className=\"Thread\" onSubmit={this.onSubmit}>\n\t\t\t\t<Form.Select\n\t\t\t\t\tvalue={this.state.theme}\n\t\t\t\t\tname=\"theme\"\n\t\t\t\t\toptions={themeOptions}\n\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t/>\n\t\t\t\t<Form.Select\n\t\t\t\t\tclearable\n\t\t\t\t\tvalue={this.state.song}\n\t\t\t\t\tname=\"song\"\n\t\t\t\t\toptions={songOptions}\n\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t/>\n\t\t\t\t<Form.Button type=\"submit\" disabled={!this.state.theme}>\n\t\t\t\t\tSend to the slaughterhouse\n\t\t\t\t\t</Form.Button>\n\t\t\t</Form>\n\t\t)\n\t}\n}\n\nexport default connect(state => ({\n\tquestion: state.question,\n\tprocessed: state.processed,\n\toptions: state.options,\n\tthemes: state.themes,\n\tsongs: state.songs,\n}), { setOptions, nextStage })(Settings);","import React from 'react'\nimport PickComments from './PickComments/index'\nimport Question from './Question'\nimport SelectThread from './SelectThread'\nimport Settings from './Settings'\nimport { connect } from 'react-redux'\nimport { prevStage, nextStage } from '../redux/actions'\nimport './App.css'\nimport 'draft-js-inline-toolbar-plugin/lib/plugin.css'\nimport { Container } from 'semantic-ui-react'\n\nclass App extends React.Component {\n\trender() {\n\t\treturn <Container textAlign=\"center\">\n\t\t\t{this.props.stage === 0 ?\n\t\t\t\t<SelectThread /> :\n\t\t\t\tthis.props.stage === 1 ?\n\t\t\t\t\t<Question /> :\n\t\t\t\t\tthis.props.stage === 2 ?\n\t\t\t\t\t\t<PickComments /> :\n\t\t\t\t\t\tthis.props.stage === 3 ?\n\t\t\t\t\t\t\t<Settings /> :\n\t\t\t\t\t\t\tthis.props.stage === 4 ?\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<h1>rendering atm bro</h1>\n\t\t\t\t\t\t\t\t\t<p>You may close this tab</p>\n\t\t\t\t\t\t\t\t</div> :\n\t\t\t\t\t\t\t\tnull\n\t\t\t}\n\t\t\t<br />\n\t\t\t{this.props.stage !== 0 &&\n\t\t\t\t<button style={{ fontSize: 12 }} onClick={this.props.prevStage}>GO BACK!</button>\n\t\t\t}\n\t\t</Container>\n\t}\n}\n\nlet mapStateToProps = store => {\n\treturn {\n\t\tquestion: store.question,\n\t\tprocessed: store.processed,\n\t\tstage: store.stage,\n\t\toptions: store.options,\n\t}\n}\n\nexport default connect(mapStateToProps, {\n\tprevStage,\n\tnextStage,\n})(App)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Container, Form, Segment } from 'semantic-ui-react'\nimport { editTheme, getTheme, uploadThemeFiles, deleteTheme } from '../api'\nimport { navigate } from '@reach/router'\nimport FileInput from './FileInput'\n\nlet voices = [\n    {\n        value: \"daniel\",\n        text: \"Daniel UK\"\n    },\n    {\n        value: \"google-us\",\n        text: \"Google US\"\n    },\n]\n\nclass Theme extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            name: \"\",\n            voice: \"\",\n\n            // Files\n            intro: null,\n            transition: null,\n            outro: null,\n\n            loading: true,\n        }\n    }\n    componentDidMount() {\n        getTheme(this.props.themeId)\n            .then(theme => {\n                console.log(theme)\n                this.setState(theme)\n            })\n    }\n    delete = async () => {\n        await deleteTheme(this.props.themeId)\n        navigate('/', { replace: true })\n    }\n    handleChange = (e, { name, value }) => this.setState({ [name]: value })\n    handleFileChange = (e, { name }) => this.setState({ [name]: e.target.files[0] })\n    submit = () => {\n        this.setState({ loading: true })\n        editTheme(this.props.themeId, {\n            name: this.state.name,\n            voice: this.state.voice,\n        }).then(async () => {\n            const { intro, transition, outro } = this.state\n\n            // If at least one file has been selected, upload it/them.\n            if (intro || transition || outro) {\n                const data = new FormData()\n\n                intro && data.append('intro', intro)\n                outro && data.append('outro', outro)\n                transition && data.append('transition', transition)\n\n                await uploadThemeFiles(this.props.themeId, data)\n\n                this.setState({ loading: false })\n            } else {\n                this.setState({ loading: false })\n            }\n        })\n    }\n    render() {\n        return (\n            <Container>\n                <Form onSubmit={this.submit}>\n                    <Segment>\n                        <Form.Group inline>\n                            <Form.Input\n                                name=\"name\"\n                                type=\"text\"\n                                placeholder=\"Name\"\n                                value={this.state.name}\n                                onChange={this.handleChange}>\n                            </Form.Input>\n                            <Form.Select\n                                name=\"voice\"\n                                placeholder=\"Voice\"\n                                value={this.state.voice}\n                                options={voices}\n                                onChange={this.handleChange}>\n                            </Form.Select>\n                        </Form.Group>\n                        <Form.Group inline>\n                            <Form.Input\n                                name=\"intro\"\n                                type=\"file\"\n                                label=\"Intro\"\n                                onChange={this.handleFileChange}>\n                            </Form.Input>\n                            <Form.Input\n                                name=\"transition\"\n                                type=\"file\"\n                                label=\"Transition\"\n                                onChange={this.handleFileChange}>\n                            </Form.Input>\n                            <Form.Input\n                                name=\"outro\"\n                                type=\"file\"\n                                label=\"Outro\"\n                                onChange={this.handleFileChange}>\n                            </Form.Input>\n                            {/* <FileInput\n                                name=\"outro\"\n                                label=\"Outro\"\n                                onChange={this.handleFileChange} /> */}\n                        </Form.Group>\n                        <Form.Group inline>\n                            <Form.Button type=\"submit\">Save</Form.Button>\n                            <Form.Button type=\"button\" color=\"red\" onClick={this.delete}>Delete</Form.Button>\n                        </Form.Group>\n                    </Segment>\n                </Form>\n            </Container>\n        )\n    }\n}\n\nlet mapStateToProps = store => {\n    return {\n        themes: store.themes,\n    }\n}\n\nexport default connect(mapStateToProps)(Theme);","import React from 'react';\n\nimport { connect } from 'react-redux'\nimport { Router, Redirect } from '@reach/router'\n\nimport Dashboard from './Dashboard/index'\nimport Login from './Login'\nimport Register from './Register'\nimport Logout from './Logout'\nimport App from './render/App'\nimport ThemeEdit from './Themes/_id'\nimport 'semantic-ui-css/semantic.min.css'\n\nconst NotFound = ({ redirect = \"/\" }) => <Redirect noThrow from=\"*\" to={redirect} />\n\nclass BogRouter extends React.Component {\n    render() {\n        return (\n            this.props.loggedIn ?\n                <Router>\n                    <Dashboard path=\"/\" />\n                    <App path=\"/video\" />\n                    <ThemeEdit path=\"/themes/:themeId\" />\n                    <Logout path=\"/logout\" />\n                    <NotFound default />\n                </Router>\n                :\n                <Router>\n                    <Register path=\"/register\" />\n                    <Login path=\"/login\" />\n                    <NotFound default redirect=\"/login\" />\n                </Router>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    loggedIn: state.loggedIn,\n})\n\nexport default connect(mapStateToProps)(BogRouter)","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport store from './redux/store'\nimport { Provider } from 'react-redux'\n\nimport Router from './Router'\nimport 'semantic-ui-css/semantic.min.css'\n\nimport * as serviceWorker from './render/serviceWorker'\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<Router />\n\t</Provider>,\n\tdocument.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();"],"sourceRoot":""}